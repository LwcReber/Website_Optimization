{"version":3,"sources":["js/main.js"],"names":["selectRandomCrust","randomCrust","ingredientItemizer","makeRandomPizza","pizza","numberOfMeats","numberOfNonMeats","floor","random","numberOfCheeses","k","selectRandomCheese","pizzaElementGenerator","i","pizzaContainer","pizzaImageContainer","pizzaImage","pizzaDescriptionContainer","pizzaName","document","createElement","height","appendChild","y","ul","resizePizzas","changeSliderLabel","getElementById","textContent","sizeSwitcher","newWidth","console","randomPizzaContainers","getElementsByClassName","width","changePizzaSizes","window","performance","mark","noun","adjectives","getAdj","adj","nouns","getNoun","randomAdjective","parseInt","Math","length","pizzasDiv","capitalize","randomNoun","timeToGenerate","getEntriesByName","generator","randomNumberAdj","randomNumberNoun","logAverageFrame","times","numberOfEntries","sum","duration","log","updatePositions","frame","items","scrollTop","body","phase","sin","style","left","basicLeft","measure","pizzaIngredients","meats","String","insulting","places","sauces","randomNonMeat","selectRandomSauce","randomSauce","timeToResize","selectRandomMeat","selectRandomNonMeat","nonMeats","cheeses","crusts","string","timesToUpdatePosition","requestAnimationFrame","j","onload","innerWidth","pizzaRowNum","elem","frag","classList","add","id","src","innerHTML","randomName","size","addEventListener","screenH","innerHeight","screenW","pizzaNum","createDocumentFragment","className","top"],"mappings":"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","file":"main.js","sourcesContent":["/*\r\n欢迎来到我们的60fps项目！你的目标是使Cam's Pizzeria网站能流畅的运行在60fps下。\r\n\r\n在这里的代码中主要有两个问题使性能低于60fps。你能发现并修复它们吗？\r\n\r\n在代码中，你会发现一些使用User Timing API(window.performance)的例子，它们使用\r\nconsole.log()将帧率数据输入到浏览器的控制台中。如果你想了解更多关于User Timing API\r\n的信息，请访问：http://www.html5rocks.com/en/tutorials/webperformance/usertiming/\r\n\r\n\r\n创建者:\r\nCameron Pittman, Udacity 课程开发者\r\ncameron@udacity.com\r\n*/\r\n\r\n// 你可能已经发现了，这个网站会随机地生成披萨。\r\n// 下面的数组是所有可能组成披萨的原料。\r\nvar pizzaIngredients = {};\r\npizzaIngredients.meats = [\r\n  \"Pepperoni\",\r\n  \"Sausage\",\r\n  \"Fennel Sausage\",\r\n  \"Spicy Sausage\",\r\n  \"Chicken\",\r\n  \"BBQ Chicken\",\r\n  \"Chorizo\",\r\n  \"Chicken Andouille\",\r\n  \"Salami\",\r\n  \"Tofu\",\r\n  \"Bacon\",\r\n  \"Canadian Bacon\",\r\n  \"Proscuitto\",\r\n  \"Italian Sausage\",\r\n  \"Ground Beef\",\r\n  \"Anchovies\",\r\n  \"Turkey\",\r\n  \"Ham\",\r\n  \"Venison\",\r\n  \"Lamb\",\r\n  \"Duck\",\r\n  \"Soylent Green\",\r\n  \"Carne Asada\",\r\n  \"Soppressata Picante\",\r\n  \"Coppa\",\r\n  \"Pancetta\",\r\n  \"Bresola\",\r\n  \"Lox\",\r\n  \"Guanciale\",\r\n  \"Chili\",\r\n  \"Beef Jerky\",\r\n  \"Pastrami\",\r\n  \"Kielbasa\",\r\n  \"Scallops\",\r\n  \"Filet Mignon\"\r\n];\r\npizzaIngredients.nonMeats = [\r\n  \"White Onions\",\r\n  \"Red Onions\",\r\n  \"Sauteed Onions\",\r\n  \"Green Peppers\",\r\n  \"Red Peppers\",\r\n  \"Banana Peppers\",\r\n  \"Ghost Peppers\",\r\n  \"Habanero Peppers\",\r\n  \"Jalapeno Peppers\",\r\n  \"Stuffed Peppers\",\r\n  \"Spinach\",\r\n  \"Tomatoes\",\r\n  \"Pineapple\",\r\n  \"Pear Slices\",\r\n  \"Apple Slices\",\r\n  \"Mushrooms\",\r\n  \"Arugula\",\r\n  \"Basil\",\r\n  \"Fennel\",\r\n  \"Rosemary\",\r\n  \"Cilantro\",\r\n  \"Avocado\",\r\n  \"Guacamole\",\r\n  \"Salsa\",\r\n  \"Swiss Chard\",\r\n  \"Kale\",\r\n  \"Sun Dried Tomatoes\",\r\n  \"Walnuts\",\r\n  \"Artichoke\",\r\n  \"Asparagus\",\r\n  \"Caramelized Onions\",\r\n  \"Mango\",\r\n  \"Garlic\",\r\n  \"Olives\",\r\n  \"Cauliflower\",\r\n  \"Polenta\",\r\n  \"Fried Egg\",\r\n  \"Zucchini\",\r\n  \"Hummus\"\r\n];\r\npizzaIngredients.cheeses = [\r\n  \"American Cheese\",\r\n  \"Swiss Cheese\",\r\n  \"Goat Cheese\",\r\n  \"Mozzarella Cheese\",\r\n  \"Parmesean Cheese\",\r\n  \"Velveeta Cheese\",\r\n  \"Gouda Cheese\",\r\n  \"Muenster Cheese\",\r\n  \"Applewood Cheese\",\r\n  \"Asiago Cheese\",\r\n  \"Bleu Cheese\",\r\n  \"Boursin Cheese\",\r\n  \"Brie Cheese\",\r\n  \"Cheddar Cheese\",\r\n  \"Chevre Cheese\",\r\n  \"Havarti Cheese\",\r\n  \"Jack Cheese\",\r\n  \"Pepper Jack Cheese\",\r\n  \"Gruyere Cheese\",\r\n  \"Limberger Cheese\",\r\n  \"Manchego Cheese\",\r\n  \"Marscapone Cheese\",\r\n  \"Pecorino Cheese\",\r\n  \"Provolone Cheese\",\r\n  \"Queso Cheese\",\r\n  \"Roquefort Cheese\",\r\n  \"Romano Cheese\",\r\n  \"Ricotta Cheese\",\r\n  \"Smoked Gouda\"\r\n];\r\npizzaIngredients.sauces = [\r\n  \"Red Sauce\",\r\n  \"Marinara\",\r\n  \"BBQ Sauce\",\r\n  \"No Sauce\",\r\n  \"Hot Sauce\"\r\n];\r\npizzaIngredients.crusts = [\r\n  \"White Crust\",\r\n  \"Whole Wheat Crust\",\r\n  \"Flatbread Crust\",\r\n  \"Stuffed Crust\"\r\n];\r\n\r\n// 名称生成器取自 http://saturdaykid.com/usernames/generator.html\r\n// 将每个单词的首字母大写\r\nString.prototype.capitalize = function() {\r\n  return this.charAt(0).toUpperCase() + this.slice(1);\r\n};\r\n\r\n// 用生成器发出的随机数来从数组中取出形容词\r\nfunction getAdj(x){\r\n  switch(x) {\r\n    case \"dark\":\r\n      var dark = [\"dark\",\"morbid\", \"scary\", \"spooky\", \"gothic\", \"deviant\", \"creepy\", \"sadistic\", \"black\", \"dangerous\", \"dejected\", \"haunted\",\r\n      \"morose\", \"tragic\", \"shattered\", \"broken\", \"sad\", \"melancholy\", \"somber\", \"dark\", \"gloomy\", \"homicidal\", \"murderous\", \"shady\", \"misty\",\r\n      \"dusky\", \"ghostly\", \"shadowy\", \"demented\", \"cursed\", \"insane\", \"possessed\", \"grotesque\", \"obsessed\"];\r\n      return dark;\r\n    case \"color\":\r\n      var colors = [\"blue\", \"green\", \"purple\", \"grey\", \"scarlet\", \"NeonGreen\", \"NeonBlue\", \"NeonPink\", \"HotPink\", \"pink\", \"black\", \"red\",\r\n      \"maroon\", \"silver\", \"golden\", \"yellow\", \"orange\", \"mustard\", \"plum\", \"violet\", \"cerulean\", \"brown\", \"lavender\", \"violet\", \"magenta\",\r\n      \"chestnut\", \"rosy\", \"copper\", \"crimson\", \"teal\", \"indigo\", \"navy\", \"azure\", \"periwinkle\", \"brassy\", \"verdigris\", \"veridian\", \"tan\",\r\n      \"raspberry\", \"beige\", \"sandy\", \"ElectricBlue\", \"white\", \"champagne\", \"coral\", \"cyan\"];\r\n      return colors;\r\n    case \"whimsical\":\r\n      var whimsy = [\"whimsical\", \"silly\", \"drunken\", \"goofy\", \"funny\", \"weird\", \"strange\", \"odd\", \"playful\", \"clever\", \"boastful\", \"breakdancing\",\r\n      \"hilarious\", \"conceited\", \"happy\", \"comical\", \"curious\", \"peculiar\", \"quaint\", \"quirky\", \"fancy\", \"wayward\", \"fickle\", \"yawning\", \"sleepy\",\r\n      \"cockeyed\", \"dizzy\", \"dancing\", \"absurd\", \"laughing\", \"hairy\", \"smiling\", \"perplexed\", \"baffled\", \"cockamamie\", \"vulgar\", \"hoodwinked\",\r\n      \"brainwashed\"];\r\n      return whimsy;\r\n    case \"shiny\":\r\n      var shiny = [\"sapphire\", \"opal\", \"silver\", \"gold\", \"platinum\", \"ruby\", \"emerald\", \"topaz\", \"diamond\", \"amethyst\", \"turquoise\",\r\n      \"starlit\", \"moonlit\", \"bronze\", \"metal\", \"jade\", \"amber\", \"garnet\", \"obsidian\", \"onyx\", \"pearl\", \"copper\", \"sunlit\", \"brass\", \"brassy\",\r\n      \"metallic\"];\r\n      return shiny;\r\n    case \"noisy\":\r\n      var noisy = [\"untuned\", \"loud\", \"soft\", \"shrieking\", \"melodious\", \"musical\", \"operatic\", \"symphonic\", \"dancing\", \"lyrical\", \"harmonic\",\r\n      \"orchestral\", \"noisy\", \"dissonant\", \"rhythmic\", \"hissing\", \"singing\", \"crooning\", \"shouting\", \"screaming\", \"wailing\", \"crying\", \"howling\",\r\n      \"yelling\", \"hollering\", \"caterwauling\", \"bawling\", \"bellowing\", \"roaring\", \"squealing\", \"beeping\", \"knocking\", \"tapping\", \"rapping\",\r\n      \"humming\", \"scatting\", \"whispered\", \"whispering\", \"rasping\", \"buzzing\", \"whirring\", \"whistling\", \"whistled\"];\r\n      return noisy;\r\n    case \"apocalyptic\":\r\n      var apocalyptic = [\"nuclear\", \"apocalyptic\", \"desolate\", \"atomic\", \"zombie\", \"collapsed\", \"grim\", \"fallen\", \"collapsed\", \"cannibalistic\",\r\n      \"radioactive\", \"toxic\", \"poisonous\", \"venomous\", \"disastrous\", \"grimy\", \"dirty\", \"undead\", \"bloodshot\", \"rusty\", \"glowing\", \"decaying\",\r\n      \"rotten\", \"deadly\", \"plagued\", \"decimated\", \"rotting\", \"putrid\", \"decayed\", \"deserted\", \"acidic\"];\r\n      return apocalyptic;\r\n    case \"insulting\":\r\n      var insulting = [\"stupid\", \"idiotic\", \"fat\", \"ugly\", \"hideous\", \"grotesque\", \"dull\", \"dumb\", \"lazy\", \"sluggish\", \"brainless\", \"slow\",\r\n      \"gullible\", \"obtuse\", \"dense\", \"dim\", \"dazed\", \"ridiculous\", \"witless\", \"daft\", \"crazy\", \"vapid\", \"inane\", \"mundane\", \"hollow\", \"vacuous\",\r\n      \"boring\", \"insipid\", \"tedious\", \"monotonous\", \"weird\", \"bizarre\", \"backward\", \"moronic\", \"ignorant\", \"scatterbrained\", \"forgetful\", \"careless\",\r\n      \"lethargic\", \"insolent\", \"indolent\", \"loitering\", \"gross\", \"disgusting\", \"bland\", \"horrid\", \"unseemly\", \"revolting\", \"homely\", \"deformed\",\r\n      \"disfigured\", \"offensive\", \"cowardly\", \"weak\", \"villainous\", \"fearful\", \"monstrous\", \"unattractive\", \"unpleasant\", \"nasty\", \"beastly\", \"snide\",\r\n      \"horrible\", \"syncophantic\", \"unhelpful\", \"bootlicking\"];\r\n      return insulting;\r\n    case \"praise\":\r\n      var praise = [\"beautiful\", \"intelligent\", \"smart\", \"genius\", \"ingenious\", \"gorgeous\", \"pretty\", \"witty\", \"angelic\", \"handsome\", \"graceful\",\r\n      \"talented\", \"exquisite\", \"enchanting\", \"fascinating\", \"interesting\", \"divine\", \"alluring\", \"ravishing\", \"wonderful\", \"magnificient\", \"marvelous\",\r\n      \"dazzling\", \"cute\", \"charming\", \"attractive\", \"nifty\", \"delightful\", \"superior\", \"amiable\", \"gentle\", \"heroic\", \"courageous\", \"valiant\", \"brave\",\r\n      \"noble\", \"daring\", \"fearless\", \"gallant\", \"adventurous\", \"cool\", \"enthusiastic\", \"fierce\", \"awesome\", \"radical\", \"tubular\", \"fearsome\",\r\n      \"majestic\", \"grand\", \"stunning\"];\r\n      return praise;\r\n    case \"scientific\":\r\n      var scientific = [\"scientific\", \"technical\", \"digital\", \"programming\", \"calculating\", \"formulating\", \"cyberpunk\", \"mechanical\", \"technological\",\r\n      \"innovative\", \"brainy\", \"chemical\", \"quantum\", \"astro\", \"space\", \"theoretical\", \"atomic\", \"electronic\", \"gaseous\", \"investigative\", \"solar\",\r\n      \"extinct\", \"galactic\"];\r\n      return scientific;\r\n    default:\r\n      var scientific_default = [\"scientific\", \"technical\", \"digital\", \"programming\", \"calculating\", \"formulating\", \"cyberpunk\", \"mechanical\", \"technological\",\r\n      \"innovative\", \"brainy\", \"chemical\", \"quantum\", \"astro\", \"space\", \"theoretical\", \"atomic\", \"electronic\", \"gaseous\", \"investigative\", \"solar\",\r\n      \"extinct\", \"galactic\"];\r\n      return scientific_default;\r\n  }\r\n}\r\n\r\n// 用生成器发出的随机数来从数组中取出名词\r\nfunction getNoun(y) {\r\n  switch(y) {\r\n    case \"animals\":\r\n      var animals = [\"flamingo\", \"hedgehog\", \"owl\", \"elephant\", \"pussycat\", \"alligator\", \"dachsund\", \"poodle\", \"beagle\", \"crocodile\", \"kangaroo\",\r\n      \"wallaby\", \"woodpecker\", \"eagle\", \"falcon\", \"canary\", \"parrot\", \"parakeet\", \"hamster\", \"gerbil\", \"squirrel\", \"rat\", \"dove\", \"toucan\",\r\n      \"raccoon\", \"vulture\", \"peacock\", \"goldfish\", \"rook\", \"koala\", \"skunk\", \"goat\", \"rooster\", \"fox\", \"porcupine\", \"llama\", \"grasshopper\",\r\n      \"gorilla\", \"monkey\", \"seahorse\", \"wombat\", \"wolf\", \"giraffe\", \"badger\", \"lion\", \"mouse\", \"beetle\", \"cricket\", \"nightingale\",\r\n      \"hawk\", \"trout\", \"squid\", \"octopus\", \"sloth\", \"snail\", \"locust\", \"baboon\", \"lemur\", \"meerkat\", \"oyster\", \"frog\", \"toad\", \"jellyfish\",\r\n      \"butterfly\", \"caterpillar\", \"tiger\", \"hyena\", \"zebra\", \"snail\", \"pig\", \"weasel\", \"donkey\", \"penguin\", \"crane\", \"buzzard\", \"vulture\",\r\n      \"rhino\", \"hippopotamus\", \"dolphin\", \"sparrow\", \"beaver\", \"moose\", \"minnow\", \"otter\", \"bat\", \"mongoose\", \"swan\", \"firefly\", \"platypus\"];\r\n      return animals;\r\n    case \"profession\":\r\n      var professions = [\"doctor\", \"lawyer\", \"ninja\", \"writer\", \"samurai\", \"surgeon\", \"clerk\", \"artist\", \"actor\", \"engineer\", \"mechanic\",\r\n      \"comedian\", \"fireman\", \"nurse\", \"RockStar\", \"musician\", \"carpenter\", \"plumber\", \"cashier\", \"electrician\", \"waiter\", \"president\", \"governor\",\r\n      \"senator\", \"scientist\", \"programmer\", \"singer\", \"dancer\", \"director\", \"mayor\", \"merchant\", \"detective\", \"investigator\", \"navigator\", \"pilot\",\r\n      \"priest\", \"cowboy\", \"stagehand\", \"soldier\", \"ambassador\", \"pirate\", \"miner\", \"police\"];\r\n      return professions;\r\n    case \"fantasy\":\r\n      var fantasy = [\"centaur\", \"wizard\", \"gnome\", \"orc\", \"troll\", \"sword\", \"fairy\", \"pegasus\", \"halfling\", \"elf\", \"changeling\", \"ghost\",\r\n      \"knight\", \"squire\", \"magician\", \"witch\", \"warlock\", \"unicorn\", \"dragon\", \"wyvern\", \"princess\", \"prince\", \"king\", \"queen\", \"jester\",\r\n      \"tower\", \"castle\", \"kraken\", \"seamonster\", \"mermaid\", \"psychic\", \"seer\", \"oracle\"];\r\n      return fantasy;\r\n    case \"music\":\r\n      var music = [\"violin\", \"flute\", \"bagpipe\", \"guitar\", \"symphony\", \"orchestra\", \"piano\", \"trombone\", \"tuba\", \"opera\", \"drums\",\r\n      \"harpsichord\", \"harp\", \"harmonica\", \"accordion\", \"tenor\", \"soprano\", \"baritone\", \"cello\", \"viola\", \"piccolo\", \"ukelele\", \"woodwind\", \"saxophone\",\r\n      \"bugle\", \"trumpet\", \"sousaphone\", \"cornet\", \"stradivarius\", \"marimbas\", \"bells\", \"timpani\", \"bongos\", \"clarinet\", \"recorder\", \"oboe\", \"conductor\",\r\n      \"singer\"];\r\n      return music;\r\n    case \"horror\":\r\n      var horror = [\"murderer\", \"chainsaw\", \"knife\", \"sword\", \"murder\", \"devil\", \"killer\", \"psycho\", \"ghost\", \"monster\", \"godzilla\", \"werewolf\",\r\n      \"vampire\", \"demon\", \"graveyard\", \"zombie\", \"mummy\", \"curse\", \"death\", \"grave\", \"tomb\", \"beast\", \"nightmare\", \"frankenstein\", \"specter\",\r\n      \"poltergeist\", \"wraith\", \"corpse\", \"scream\", \"massacre\", \"cannibal\", \"skull\", \"bones\", \"undertaker\", \"zombie\", \"creature\", \"mask\", \"psychopath\",\r\n      \"fiend\", \"satanist\", \"moon\", \"fullMoon\"];\r\n      return horror;\r\n    case \"gross\":\r\n      var gross = [\"slime\", \"bug\", \"roach\", \"fluid\", \"pus\", \"booger\", \"spit\", \"boil\", \"blister\", \"orifice\", \"secretion\", \"mucus\", \"phlegm\",\r\n      \"centipede\", \"beetle\", \"fart\", \"snot\", \"crevice\", \"flatulence\", \"juice\", \"mold\", \"mildew\", \"germs\", \"discharge\", \"toilet\", \"udder\", \"odor\", \"substance\",\r\n      \"fluid\", \"moisture\", \"garbage\", \"trash\", \"bug\"];\r\n      return gross;\r\n    case \"everyday\":\r\n      var everyday = [\"mirror\", \"knife\", \"fork\", \"spork\", \"spoon\", \"tupperware\", \"minivan\", \"suburb\", \"lamp\", \"desk\", \"stereo\", \"television\", \"TV\",\r\n      \"book\", \"car\", \"truck\", \"soda\", \"door\", \"video\", \"game\", \"computer\", \"calender\", \"tree\", \"plant\", \"flower\", \"chimney\", \"attic\", \"kitchen\",\r\n      \"garden\", \"school\", \"wallet\", \"bottle\"];\r\n      return everyday;\r\n    case \"jewelry\":\r\n      var jewelry = [\"earrings\", \"ring\", \"necklace\", \"pendant\", \"choker\", \"brooch\", \"bracelet\", \"cameo\", \"charm\", \"bauble\", \"trinket\", \"jewelry\",\r\n      \"anklet\", \"bangle\", \"locket\", \"finery\", \"crown\", \"tiara\", \"blingBling\", \"chain\", \"rosary\", \"jewel\", \"gemstone\", \"beads\", \"armband\", \"pin\",\r\n      \"costume\", \"ornament\", \"treasure\"];\r\n      return jewelry;\r\n    case \"places\":\r\n      var places = [\"swamp\", \"graveyard\", \"cemetery\", \"park\", \"building\", \"house\", \"river\", \"ocean\", \"sea\", \"field\", \"forest\", \"woods\", \"neighborhood\",\r\n      \"city\", \"town\", \"suburb\", \"country\", \"meadow\", \"cliffs\", \"lake\", \"stream\", \"creek\", \"school\", \"college\", \"university\", \"library\", \"bakery\",\r\n      \"shop\", \"store\", \"theater\", \"garden\", \"canyon\", \"highway\", \"restaurant\", \"cafe\", \"diner\", \"street\", \"road\", \"freeway\", \"alley\"];\r\n      return places;\r\n    case \"scifi\":\r\n      var scifi = [\"robot\", \"alien\", \"raygun\", \"spaceship\", \"UFO\", \"rocket\", \"phaser\", \"astronaut\", \"spaceman\", \"planet\", \"star\", \"galaxy\",\r\n      \"computer\", \"future\", \"timeMachine\", \"wormHole\", \"timeTraveler\", \"scientist\", \"invention\", \"martian\", \"pluto\", \"jupiter\", \"saturn\", \"mars\",\r\n      \"quasar\", \"blackHole\", \"warpDrive\", \"laser\", \"orbit\", \"gears\", \"molecule\", \"electron\", \"neutrino\", \"proton\", \"experiment\", \"photon\", \"apparatus\",\r\n      \"universe\", \"gravity\", \"darkMatter\", \"constellation\", \"circuit\", \"asteroid\"];\r\n      return scifi;\r\n    default:\r\n      var scifi_default = [\"robot\", \"alien\", \"raygun\", \"spaceship\", \"UFO\", \"rocket\", \"phaser\", \"astronaut\", \"spaceman\", \"planet\", \"star\", \"galaxy\",\r\n      \"computer\", \"future\", \"timeMachine\", \"wormHole\", \"timeTraveler\", \"scientist\", \"invention\", \"martian\", \"pluto\", \"jupiter\", \"saturn\", \"mars\",\r\n      \"quasar\", \"blackHole\", \"warpDrive\", \"laser\", \"orbit\", \"gears\", \"molecule\", \"electron\", \"neutrino\", \"proton\", \"experiment\", \"photon\", \"apparatus\",\r\n      \"universe\", \"gravity\", \"darkMatter\", \"constellation\", \"circuit\", \"asteroid\"];\r\n      return scifi_default;\r\n  }\r\n}\r\n\r\nvar adjectives = [\"dark\", \"color\", \"whimsical\", \"shiny\", \"noisy\", \"apocalyptic\", \"insulting\", \"praise\", \"scientific\"];  // 披萨名字形容词的种类\r\nvar nouns = [\"animals\", \"everyday\", \"fantasy\", \"gross\", \"horror\", \"jewelry\", \"places\", \"scifi\"];                        // 披萨名字名词的种类\r\n\r\n// 生成器随机地为getAdj和getNoun函数生成数字，并返回一个新的披萨名称\r\nfunction generator(adj, noun) {\r\n  var adjectives = getAdj(adj);\r\n  var nouns = getNoun(noun);\r\n  var randomAdjective = parseInt(Math.random() * adjectives.length);\r\n  var randomNoun = parseInt(Math.random() * nouns.length);\r\n  var name = \"The \" + adjectives[randomAdjective].capitalize() + \" \" + nouns[randomNoun].capitalize();\r\n  return name;\r\n}\r\n\r\n// 选择随机的形容词及名词\r\nfunction randomName() {\r\n  var randomNumberAdj = parseInt(Math.random() * adjectives.length);\r\n  var randomNumberNoun = parseInt(Math.random() * nouns.length);\r\n  return generator(adjectives[randomNumberAdj], nouns[randomNumberNoun]);\r\n}\r\n\r\n// 这些函数从各自的原料目录中取出并返回随机的原料\r\nvar selectRandomMeat = function() {\r\n  var randomMeat = pizzaIngredients.meats[Math.floor((Math.random() * pizzaIngredients.meats.length))];\r\n  return randomMeat;\r\n};\r\n\r\nvar selectRandomNonMeat = function() {\r\n  var randomNonMeat = pizzaIngredients.nonMeats[Math.floor((Math.random() * pizzaIngredients.nonMeats.length))];\r\n  return randomNonMeat;\r\n};\r\n\r\nvar selectRandomCheese = function() {\r\n  var randomCheese = pizzaIngredients.cheeses[Math.floor((Math.random() * pizzaIngredients.cheeses.length))];\r\n  return randomCheese;\r\n};\r\n\r\nvar selectRandomSauce = function() {\r\n  var randomSauce = pizzaIngredients.sauces[Math.floor((Math.random() * pizzaIngredients.sauces.length))];\r\n  return randomSauce;\r\n};\r\n\r\nvar selectRandomCrust = function() {\r\n  var randomCrust = pizzaIngredients.crusts[Math.floor((Math.random() * pizzaIngredients.crusts.length))];\r\n  return randomCrust;\r\n};\r\n\r\nvar ingredientItemizer = function(string) {\r\n  return \"<li>\" + string + \"</li>\";\r\n};\r\n\r\n// 返回嵌套在<li>中的披萨原料字符串\r\nvar makeRandomPizza = function() {\r\n  var pizza = \"\";\r\n\r\n  var numberOfMeats = Math.floor((Math.random() * 4));\r\n  var numberOfNonMeats = Math.floor((Math.random() * 3));\r\n  var numberOfCheeses = Math.floor((Math.random() * 2));\r\n\r\n  for (var i = 0; i < numberOfMeats; i++) {\r\n    pizza = pizza + ingredientItemizer(selectRandomMeat());\r\n  }\r\n\r\n  for (var j = 0; j < numberOfNonMeats; j++) {\r\n    pizza = pizza + ingredientItemizer(selectRandomNonMeat());\r\n  }\r\n\r\n  for (var k = 0; k < numberOfCheeses; k++) {\r\n    pizza = pizza + ingredientItemizer(selectRandomCheese());\r\n  }\r\n\r\n  pizza = pizza + ingredientItemizer(selectRandomSauce());\r\n  pizza = pizza + ingredientItemizer(selectRandomCrust());\r\n\r\n  return pizza;\r\n};\r\n\r\n// 为每个披萨分别返回一个DOM元素\r\nvar pizzaElementGenerator = function(i) {\r\n  var pizzaContainer,             // 披萨的名称、图片及原料清单容器\r\n      pizzaImageContainer,        // 披萨图片容器\r\n      pizzaImage,                 // 披萨的图片\r\n      pizzaDescriptionContainer,  // 披萨名称及原料清单容器\r\n      pizzaName,                  // 披萨名称\r\n      ul;                         // 原料清单\r\n\r\n  pizzaContainer = document.createElement(\"div\");\r\n  pizzaImageContainer = document.createElement(\"div\");\r\n  pizzaImage = document.createElement(\"img\");\r\n  pizzaDescriptionContainer = document.createElement(\"div\");\r\n\r\n  pizzaContainer.classList.add(\"randomPizzaContainer\");\r\n  pizzaContainer.style.width = \"33.33%\";\r\n  pizzaContainer.style.height = \"325px\";\r\n  pizzaContainer.id = \"pizza\" + i;                // 给每个披萨元素赋一个独一无二的id\r\n  pizzaImageContainer.style.width=\"35%\";\r\n\r\n  pizzaImage.src = \"images/pizza.png\";\r\n  pizzaImage.classList.add(\"img-responsive\");\r\n  pizzaImageContainer.appendChild(pizzaImage);\r\n  pizzaContainer.appendChild(pizzaImageContainer);\r\n\r\n\r\n  pizzaDescriptionContainer.style.width=\"65%\";\r\n\r\n  pizzaName = document.createElement(\"h4\");\r\n  pizzaName.innerHTML = randomName();\r\n  pizzaDescriptionContainer.appendChild(pizzaName);\r\n\r\n  ul = document.createElement(\"ul\");\r\n  ul.innerHTML = makeRandomPizza();\r\n  pizzaDescriptionContainer.appendChild(ul);\r\n  pizzaContainer.appendChild(pizzaDescriptionContainer);\r\n\r\n  return pizzaContainer;\r\n};\r\n\r\n// 当网站中\"Our Pizzas\"的滑窗部分移动时调用resizePizzas(size)函数\r\nvar resizePizzas = function(size) {\r\n  window.performance.mark(\"mark_start_resize\");   // User Timing API 函数\r\n\r\n  // 改变滑窗前披萨的尺寸值\r\n  function changeSliderLabel(size) {\n    // 使用 .textContent 会比 .innerHTML 更快一点, 因为不用解析里面的 html\n    // getElementById 的查找速度比 querySelector 要快上 2 倍以上\r\n    switch(size) {\r\n      case \"1\":\r\n        document.getElementById(\"pizzaSize\").textContent = \"Small\";\r\n        return;\r\n      case \"2\":\r\n        document.getElementById(\"pizzaSize\").textContent = \"Medium\";\r\n        return;\r\n      case \"3\":\r\n        document.getElementById(\"pizzaSize\").textContent = \"Large\";\r\n        return;\r\n      default:\r\n        console.log(\"bug in changeSliderLabel\");\r\n    }\r\n  }\r\n\r\n  changeSliderLabel(size);\r\n\r\n   // 直接改变width的百分比来改变pizzaSize\r\n  function sizeSwitcher (size) {\r\n    var newWidth;\r\n    switch(size) {\r\n      case \"1\":\r\n        newWidth = 25;\r\n        break;\r\n      case \"2\":\r\n        newWidth = 33.3;\r\n        break;\r\n      case \"3\":\r\n        newWidth = 50;\r\n        break;\r\n      default:\r\n        console.log(\"bug in sizeSwitcher\");\r\n    }\r\n    // 先获取randomPizzaContainer的所有元素\r\n    var randomPizzaContainers = document.getElementsByClassName(\"randomPizzaContainer\");\r\n    // 改变randomPizzaContainer的宽度\r\n    for (var i = 0; i < randomPizzaContainers.length; i ++) {\r\n      randomPizzaContainers[i].style.width = newWidth + '%';\r\n    }\r\n  }\r\n\r\n\r\n  // 遍历披萨的元素并改变它们的宽度\r\n  function changePizzaSizes(size) {\r\n    sizeSwitcher (size);\r\n  }\r\n\r\n  changePizzaSizes(size);\r\n\r\n  // User Timing API 太棒了\r\n  window.performance.mark(\"mark_end_resize\");\r\n  window.performance.measure(\"measure_pizza_resize\", \"mark_start_resize\", \"mark_end_resize\");\r\n  var timeToResize = window.performance.getEntriesByName(\"measure_pizza_resize\");\r\n  console.log(\"Time to resize pizzas: \" + timeToResize[timeToResize.length-1].duration + \"ms\");\r\n};\r\n\r\nwindow.performance.mark(\"mark_start_generating\"); // 收集timing数据\r\n\r\n// 这个for循环在页面加载时创建并插入了所有的披萨\r\nfor (var i = 2; i < 100; i++) {\r\n  var pizzasDiv = document.getElementById(\"randomPizzas\");\r\n  pizzasDiv.appendChild(pizzaElementGenerator(i));\r\n}\r\n\r\n// 使用User Timing API。这里的测量数据告诉了你生成初始的披萨用了多长时间\r\nwindow.performance.mark(\"mark_end_generating\");\r\nwindow.performance.measure(\"measure_pizza_generation\", \"mark_start_generating\", \"mark_end_generating\");\r\nvar timeToGenerate = window.performance.getEntriesByName(\"measure_pizza_generation\");\r\nconsole.log(\"Time to generate pizzas on load: \" + timeToGenerate[0].duration + \"ms\");\r\n\r\n// 背景披萨滚动时调用函数的次数和\r\n// 由updatePositions()函数使用，用来决定什么时候记录平均帧率\r\nvar frame = 0;\r\n\r\n// 记录滚动时背景滑窗披萨移动的每10帧的平均帧率\r\nfunction logAverageFrame(times) {   // times参数是updatePositions()由User Timing得到的测量数据\r\n  var numberOfEntries = times.length;\r\n  var sum = 0;\r\n  for (var i = numberOfEntries - 1; i > numberOfEntries - 11; i--) {\r\n    sum = sum + times[i].duration;\r\n  }\r\n  console.log(\"Average scripting time to generate last 10 frames: \" + sum / 10 + \"ms\");\r\n}\r\n\r\n// 下面的关于背景滑窗披萨的代码来自于Ilya的demo:\r\n// https://www.igvita.com/slides/2012/devtools-tips-and-tricks/jank-demo.html\r\n\r\n// 基于滚动条位置移动背景中的披萨滑窗\r\nfunction updatePositions() {\r\n  frame++;\r\n  window.performance.mark(\"mark_start_frame\");\r\n\r\n  var items = document.getElementsByClassName('mover');\r\n  // scrollTop先读取 ，避免强制同步布局\r\n  var scrollTop = document.body.scrollTop / 1250 ;\r\n  for (var i = 0; i < items.length; i++) {\r\n    var phase = Math.sin(scrollTop + (i % 5));\r\n    items[i].style.left = items[i].basicLeft + 100 * phase + 'px';\r\n  }\r\n\r\n  // 再次使用User Timing API。这很值得学习\r\n  // 能够很容易地自定义测量维度\r\n  window.performance.mark(\"mark_end_frame\");\r\n  window.performance.measure(\"measure_frame_duration\", \"mark_start_frame\", \"mark_end_frame\");\r\n  if (frame % 10 === 0) {\r\n    var timesToUpdatePosition = window.performance.getEntriesByName(\"measure_frame_duration\");\r\n    logAverageFrame(timesToUpdatePosition);\r\n  }\r\n\r\n}\r\n\r\n// 在页面滚动时运行updatePositions函数\r\nwindow.addEventListener('scroll', function() {\r\n  // 使用requestAnimationFrame提高性能\r\n  requestAnimationFrame(updatePositions);\r\n});\r\n\r\n// js异步执行，披萨滑窗应该在window.onload才生成\r\nwindow.onload = function() {\r\n  var cols = 8; // 行数\r\n  var s = 256;\n  var screenH = parseInt(window.innerHeight);\n  var screenW = parseInt(window.innerWidth);\n  var pizzaRowNum = screenH / s; // 需要pizza的列数\n  var pizzaNum = Math.floor(pizzaRowNum * cols); // pizza的总数 = 列数 * 行数\n  console.log(pizzaNum, screenH, screenW);\n  var frag = document.createDocumentFragment();\n  for (var i = 0; i < pizzaNum; i++) {\r\n    var elem = document.createElement('img');\r\n    elem.className = 'mover';\r\n    elem.src = \"images/pizza.png\";\r\n    elem.style.height = \"100px\";\r\n    elem.style.width = \"73.333px\";\r\n    elem.basicLeft = (i % cols) * s;\r\n    elem.style.top = (Math.floor(i / cols) * s) + 'px';\n    frag.appendChild(elem);\r\n  }\n  document.getElementById(\"movingPizzas1\").appendChild(frag);\r\n  requestAnimationFrame(updatePositions);\r\n}\r\n"]}